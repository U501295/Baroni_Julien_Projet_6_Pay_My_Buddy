<!DOCTYPE html>
<html lang="en-us" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <title>PayMyBuddy - ApplicationTransfer</title>
    <link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
          integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" rel="stylesheet">
</head>
<body>
<!-- navbar-->
<div th:replace="fragments/header :: header"></div>


<div class="container-lg pt-5">
    <h2 class="text-center">
        <span>App transfer</span>
    </h2>

</div>
<form action="/PayMyBuddy/contacts" method="GET">
    <div class="container-lg pt-5">
        <div class="row">
            <div class="text-center">
                <input type="submit" value="Add a connection"/>
            </div>
        </div>


    </div>
</form>


<h2 class="h2">Add a transaction</h2>
<div class="container">
    <div class="col-8">
        <form action="/PayMyBuddy/transferApp" method="POST">
            <div>
                <label>Current balance</label>
                <td><span th:text="${connectedUser.get().getAmountAppAccount()}"> Current balance </span></td>
            </div>
            <div>
                <label>Email of the receiver</label>
                <select name="email">
                    <option th:each="mail: ${emails}" th:text="${mail}" th:value="${mail}">
                    </option>
                </select>
            </div>
            <div name="amount">
                <label>Amount</label>
                <input name=amount type=number>
            </div>
            <div name="decription">
                <label>Description</label>
                <input name=description type="text">
            </div>
            <input type="submit"/>
        </form>
    </div>


</div>
<h2 class="h2">My past transactions</h2>
<table>
    <thead>
    <tr>
        <th>Connections</th>
        <th>Description</th>
        <th>Amount</th>
    </tr>
    </thead>
    <tbody>
    <tr th:if="${transactions.myTransactions.isEmpty()}">
        <td colspan="3">There is no existing transactions in the database</td>
    </tr>
    <tr th:each="transactionLine: ${transactionLines}">
        <td><span th:text="${transactionLine.getName()}"> Name </span></td>
        <td><span th:text="${transactionLine.getDescription()}"> Description </span></td>
        <td><span th:text="${transactionLine.getAmount()}"> Amount </span></td>
    </tr>
    </tbody>
</table>


</body>
</html>